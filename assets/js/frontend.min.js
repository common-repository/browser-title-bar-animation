!function(t){var n,i={animation_show:"user-switch",animation_type:"typing",animation_speed:300,original_title:null,animation_title:null,countdown_duration:30,countdown_title:"{{countdown}}",countdown_timer:30,count:0,init:function(){this.original_title=document.title,this.animation_title=""!==tbas_options.animation_title?tbas_options.animation_title:document.title,this.animation_show=tbas_options.animation_show,this.animation_type=tbas_options.animation_type,this.animation_speed=parseInt(tbas_options.animation_speed),this.countdown_duration=60*parseInt(tbas_options.countdown_duration),this.countdown_title=tbas_options.countdown_title,this.countdown_timer=this.countdown_duration,"blinking"===this.animation_type&&this.original_title===this.animation_title&&(this.animation_title="***** - *****"),"always"===this.animation_show?i.start_animate():this.bind_animate_events()},bind_animate_events:function(){t(window).blur(function(){i.start_animate()}),t(window).focus(function(){i.stop_animate()})},start_animate:function(){switch(i.animation_type){case"typing":i.typing("yes");break;case"scrolling":i.scrolling("yes");break;case"blinking":i.blinking("yes");break;case"countdown":i.countdown("yes");break;default:i.typing("yes")}},stop_animate:function(){switch(i.animation_type){case"typing":i.typing("no");break;case"scrolling":i.scrolling("no");break;case"blinking":i.blinking("no");break;case"countdown":i.countdown("no");break;default:i.typing("no")}},blinking:function(t){"yes"===t?n=window.setInterval(function(){document.title=i.original_title==document.title?i.animation_title:i.original_title},i.animation_speed):(document.title=i.original_title,window.clearInterval(n))},typing:function(t){"yes"===t?n=window.setInterval(function(){document.title=i.animation_title.substring(0,i.count+1),i.count===i.animation_title.length?i.count=0:i.count++},i.animation_speed):(document.title=i.original_title,window.clearInterval(n))},scrolling:function(t){"yes"===t?n=window.setInterval(function(){document.title=i.animation_title.substring(i.count,i.animation_title.length)+" --- "+i.animation_title.substring(0,i.count),i.count++,i.count>i.animation_title.length&&(i.count=0)},i.animation_speed):(document.title=i.original_title,window.clearInterval(n))},countdown:function(t){"yes"===t?n=window.setInterval(function(){minutes=parseInt(i.countdown_timer/60,10),seconds=parseInt(i.countdown_timer%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,document.title=i.countdown_title.replace("{{countdown}}",minutes+":"+seconds),--i.countdown_timer<0&&(i.countdown_timer=i.countdown_duration)},1e3):(document.title=i.original_title,window.clearInterval(n))}};t(document).ready(function(t){"yes"!==tbas_options.enable_on_focus&&i.init()})}(jQuery);